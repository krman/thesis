\chapter{Literature Review}

\section{Software-Defined Networking}
Software-defined networking is a set of philosophies and concepts on how networking should be done. Crucially, networking should be programmable. The core idea is separation of the control and data planes; specifically, separation in a way that is standards-compliant and vendor-independent \cite{onf:sdn}. Although the movement is not intrinsically tied to any specific technologies, the OpenFlow protocol \cite{onf:switch140}, which is used to communicate between the control and data planes, is quite strongly linked to it.

McKeown describes the networking industry as vertically integrated and proprietary, with little innovation \cite{mckeown:sdn}, comparing this to the state of computing prior to the adoption of high-level operating systems using standard instruction sets to communicate with the hardware. Similarly, the control plane in SDN can be seen as a network operating system, with OpenFlow as the instruction set for communicating with switches. This echoes the development towards greater abstraction evidenced by the move towards flow- over packet-based networking and the rise of quality-of-service considerations. Such requirements can be difficult to meet without some control over switch forwarding tables.

OpenFlow was originally conceived \cite{mckeown:openflow} as a research tool to enable academics to test new protocols easily and receive rapid feedback, while allowing vendors to continue to protect the inner workings of their switches. More recently \cite{onf:sdn} the focus has shifted to large datacenters and commercial networks with complex routing requirements. In \cite{mckeown:sdn}, McKeown refers to the  ``ossified network'': due to the black-box nature of modern network components such as switches and routers, experimentation is not encouraged and researchers and network administrators must stick to standard protocols until new ones are supported by vendors. This process can take a long time and the feedback cycle is slow. In contrast, SDN offers the ability to easily implement new protocols on real networks, and programmatically and automatically test and monitor many more aspects of the system.

\section{Wireless Mesh Networks}
A wireless mesh network (WMN) is a distributed network made up of collection of routers or switches connected wirelessly.
This contradicts certain assumptions about the way SDN is implemented. Mesh networks are inherently decentralised with no single point of failure, but most SDN implementations have a central controller. There is no separate control network, so all network control messages must pass through the same wireless ports as regular traffic, and communication resources are often more limited than in regular networks \cite{detti:wmsdn}. Any part of the mesh may drop out and hence lose contact with the controller at any point, so fallback needs to be implemented. Mendonca et al \cite{mendonca:hetero} outline some specific factors to consider when designing for heterogenous environments, many of which apply to WMNs as well: buffer size, mobility, impermanence and network interoperability.

However, the difficulty of managing WMNs due to their distributed nature means that SDN is seen as a desirable solution. All of SDN's usual advantages, such as programmability, automation and so on, still apply. In general, SDN allows more of the meaningful information available at the low level to be available at a higher level for the purposes of network management \cite{mendonca:hetero, dely:wmn}, and content can be more efficiently stored and delivered. For example, approaches such as that in \cite{handigol:asterix}, where load-balancing is performed in a distributed fashion as a network primitive, can be taken. Many of these innovative approaches still require some level of centralised control, which the SDN controller provides.

\section{Routing Algorithms}
\subsection{Traditional Mesh Routing}
Mesh routing is inherently distributed and a number of protocols explicitly designed for distributed routing exist to address this, such as AODV, B.A.T.M.A.N. and OLSR. These protocols do not rely on centralised control, and make design decisions based on the high turnover and fragmentation in such networks \cite{dely:wmn, detti:wmsdn}. Of these, Optimized Link State Routing (OLSR) \cite{rfc3626} is frequently used as a backup protocol for SDN-based solutions so it is worth examining. Generally, link-state routing protocol require that nodes each maintain a copy of the network topology database. In OLSR, compared to the similar IP routing protocol OSPF \cite{rfc5340}, only a subset of nodes store the data, and the protocol does not attempt to ensure that all nodes are always up-to-date, but simply floods the network often enough that each node's database is updated reasonably often.

what about traditional routing. not specific to meshes, but related to multipath stuff? eg equal-cost multipath forwarding (ECMP) (reference? see alfares). uses hash of packet headers to choose a path arbitrarily, but such that all the packets go down that path for related flows (as dlg explained) \cite{alfares:hedera}

\subsection{Software-Defined Mesh Routing}
Software-defined networks rely on two concepts: flow-based routing and the existence of a central controller. Flow-based routing means routing based on flows (linked series of related packets such as all TCP traffic, all traffic from one MAC address or to a particular IP subnet). This concept was reasonably well-developed \cite{wellons:oblivious,wang:routing} before SDN.

The other element of SDN is the existence of a central network OS which can communicate with all nodes. This raises the obvious objection that in a mesh network centralisation is not ideal; however, this is not centralised routing where all packets must pass through the controller. \cite{handigol:asterix} makes the distinction between ``logically centralised'' and ``distributed through the network''. Once rules are installed packet forwarding happens at individual switches as usual. The controller can push an initial set of rules as soon as a switch connects to it if desired. Later, when the first packet of a new kind of flow arrives at a switch, it encapsulates the packet and sends it to the controller. The controller then installs the appropriate rules on the appropriate switches \cite{mckeown:sdn}. Depending on configuration (fail standalone mode or fail secure mode) these rules can remain in place if the controller connection is lost, or the switch can drop all packets \cite{onf:switch140}.

Dely et al \cite{dely:wmn} implemented an SDN controller and tested it on KAUMesh using the metrics of forwarding performance, amount of control traffic and rule activation time (time between the first packet of a new flow arriving, and that packet being forwarded onwards). They found that while SDN drastically increased ease of development (the problem of node mobility was solved in a few lines of code), the SDN controller performed slightly worse on their network than existing algorithms such as OLSR. The performance was within acceptable limits for their small-scale test, but they noted that scalability could be an issue when deploying on larger networks.

Detti et al \cite{detti:wmsdn} found improved user performance using their software toolkit (wmSDN) in a traffic engineering application compared to a traditional network. The authors particularly focus on the fine-grained control SDN allows, which mean more advanced traffic routing algorithms could be implemented on the network. As a solution to the problem of centralised control in an often-fragmented network, they used OLSR to route both control traffic and data traffic when no connection to the controller was available.

\section{Multicommodity Flow Problems}
One approach mentioned in \cite{wellons:augmenting} and \cite{dai:dynamic} is to model flow-based networking as a multi-commodity network flow problem \cite[pp. 862--863]{cormen:algorithms}. Flows are modelled as commodities moving between various source and sink nodes in the network. This is an optimisation problem where the objective function can be adjusted depending on the desired outcomes, such as maximising overall throughput or maximising worst-case performance. The authors of \cite{wellons:augmenting} note that such approaches can be sensitive to accurate predictions of demand, but had success merging it with more dynamic heuristic algorithms. The multi-commodity network flow model is the initial direction this thesis will take.
